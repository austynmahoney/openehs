@model OpenEhs.Web.Models.UserDetailsViewModel
@{
    ViewBag.Title = "OpenEHS - User Details";
}
@section head
{
        <link type="text/css" rel="stylesheet" href="@Url.Content("~/Content/membership/user.details.css")" />
        <script type="text/javascript" src="@Url.Content("~/Scripts/membership/user.details.js")"></script>

        <script type="text/javascript">
            $(document).ready(function () {
                $("#admin-tab").addClass("current");
            });
        </script>
}
<div id="SubHeading"><h2>User Details</h2></div>
@using (Html.BeginForm())
{
<div id="tabs" class="group">
    <ul>
        <li><a href="#AccountTab">Account</a></li>
        <li><a href="#ContactInfoTab">Contact Info.</a></li>
    </ul>
    <div id="AccountTab" class="group">
        <div class="group">
            <div class="fieldGroup">
                @Html.LabelFor(m => m.Username)
                <h2>@Model.Username</h2>
            </div>
        </div>
        <div class="group">
            <div class="fieldGroup">
                @Html.LabelFor(m => m.Password)
                @Html.TextBoxFor(m => m.Password)
            </div>
        </div>
        <div id="RoleList" class="group">
            <h4>Roles</h4>
            @if (Model.Roles.Count > 0)
            {
            <ul>
                @foreach (var role in Model.Roles)
                {
                <li>
                    <div>@role.Name</div>
                    <div><a href="#">X</a></div>
                </li>
                }
            </ul>
            }
            <div id="RoleActions" class="group">
                <button id="AddRoleButton" name="AddRoleButton">Add Role</button>
                <div id="AddRoleDialog">
                    @using (Html.BeginForm())
                    {
                        <div>
                            @Html.LabelFor(m => m.SelectedRole)
                            @Html.DropDownListFor(m => m.SelectedRole, Model.AvailableRoles)
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
    <div id="ContactInfoTab" class="group">
        <div>
            <div class="fieldGroup">
                @Html.LabelFor(m => m.Staff.FirstName)
                @Html.TextBoxFor(m => m.Staff.FirstName)
            </div>
            <div class="fieldGroup">
                @Html.LabelFor(m => m.Staff.MiddleName)
                @Html.TextBoxFor(m => m.Staff.MiddleName)
            </div>
            <div class="fieldGroup">
                @Html.LabelFor(m => m.Staff.LastName)
                @Html.TextBoxFor(m => m.Staff.LastName)
            </div>
        </div>
        <div>
            <div class="fieldGroup">
                @Html.LabelFor(m => m.Staff.PhoneNumber)
                @Html.TextBoxFor(m => m.Staff.PhoneNumber)
            </div>
            <div class="fieldGroup">
                @Html.LabelFor(m => m.EmailAddress)
                @Html.TextBoxFor(m => m.EmailAddress)
            </div>
        </div>
        <fieldset>
            <legend>Address</legend>
            <div>
                <div class="fieldGroup group">
                    @Html.LabelFor(m => m.Staff.Address.Street1)
                    @Html.TextBoxFor(m => m.Staff.Address.Street1)
                </div>
            </div>
            <div>
                <div class="fieldGroup group">
                    @Html.LabelFor(m => m.Staff.Address.Street2)
                    @Html.TextBoxFor(m => m.Staff.Address.Street2)
                </div>
            </div>
            <div class="group">
                <div class="fieldGroup group">
                    @Html.LabelFor(m => m.Staff.Address.City)
                    @Html.TextBoxFor(m => m.Staff.Address.City)
                </div>
                <div class="fieldGroup group">
                    @Html.LabelFor(m => m.Staff.Address.Region)
                    @Html.TextBoxFor(m => m.Staff.Address.Region)
                </div>
            </div>
        </fieldset>
    </div>
</div>
<div id="UserActions" class="group">
    <div>
        @Html.ActionLink("Cancel", "Index")
        <input type="submit" value="Save" />
    </div>
</div>
}